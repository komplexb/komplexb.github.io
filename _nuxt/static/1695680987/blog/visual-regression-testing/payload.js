__NUXT_JSONP__("/blog/visual-regression-testing", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm){return {data:[{article:{slug:"visual-regression-testing",description:"Implementing visual regression testing in Storybook with Storyshots and Puppeteer.",title:"Visual Regression Tests for Storybooks",createdAt:"2023-09-22T00:00:00.000Z",categories:["React","Testing","Storybook","Recent Work"],toc:[{id:av,depth:H,text:aw},{id:ax,depth:H,text:ay},{id:az,depth:H,text:aA},{id:aB,depth:H,text:aC},{id:aD,depth:H,text:aE},{id:aF,depth:H,text:aG},{id:aH,depth:H,text:aI},{id:aJ,depth:H,text:aK}],body:{type:"root",children:[{type:b,tag:q,props:{},children:[{type:a,value:"Visual regression testing is an essential practice in software development that helps build confidence when making changes to codebases, such as refactors or dependency version upgrades. In this blog post, I will look at implementing visual regression testing in Storybook, and discuss some common tools and techniques used in this process."}]},{type:a,value:g},{type:b,tag:I,props:{id:av},children:[{type:b,tag:w,props:{href:"#why-visual-regression-testing",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aw}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"When working on a project, especially on an internal design system, it is crucial to ensure that any changes made do not introduce unintended visual bugs or regressions. Visual regression testing allows us to compare the visual output of a component or UI element before and after specific changes, helping us identify any unexpected visual discrepancies."}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"As a developer working on an internal design system, I understand the importance of maintaining a stable and visually consistent UI. Our design system is built using the Carbon Design System, which provides a set of reusable components and guidelines. However, like any software, it is essential to regularly update and upgrade our dependencies to benefit from bug fixes and new features."}]},{type:a,value:g},{type:b,tag:I,props:{id:ax},children:[{type:b,tag:w,props:{href:"#common-tools",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ay}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"There are many tools for visual testing. The Storybook team recommends Chromatic to run visual tests in a lightning-fast cloud browser environment. However in this article I'll implement StoryShots, their self-managed alternative to Chromatic. It allows you to run visual tests on stories by integrating with "},{type:b,tag:w,props:{href:"https:\u002F\u002Fgithub.com\u002Fstorybookjs\u002Fstorybook\u002Ftree\u002Fmain\u002Fcode\u002Faddons\u002Fstoryshots-puppeteer#imagesnapshots",rel:[ah,ai,aj],target:ak},children:[{type:a,value:"jest-image-snapshot"}]},{type:a,value:t}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Jest is a widely used testing framework in the JavaScript ecosystem. By using the "},{type:b,tag:u,props:{},children:[{type:a,value:aL}]},{type:a,value:" addon, we can leverage Jest's image snapshot feature to capture screenshots of our Storybook stories and compare them with existing reference images."}]},{type:a,value:g},{type:b,tag:I,props:{id:az},children:[{type:b,tag:w,props:{href:"#using-storyshots",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aA}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"To get started with visual regression testing using Storybooks, we need to set up and configure the Storyshots addon. Here are the steps involved."}]},{type:a,value:g},{type:b,tag:W,props:{id:"installation"},children:[{type:b,tag:w,props:{href:"#installation",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Installation"}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"First, we need to install the necessary dependencies. In our project's directory, we can run the following commands:"}]},{type:a,value:g},{type:b,tag:P,props:{className:[Q]},children:[{type:b,tag:R,props:{className:[S,"language-shell"]},children:[{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aM}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aN}]},{type:a,value:" --save-dev @storybook\u002Faddon-storyshots\n"},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aM}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aN}]},{type:a,value:" @storybook\u002Faddon-storyshots-puppeteer puppeteer --save-dev\n"}]}]}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Next, we need to update our "},{type:b,tag:u,props:{},children:[{type:a,value:"package.json"}]},{type:a,value:" file with the following scripts:"}]},{type:a,value:g},{type:b,tag:P,props:{className:[Q]},children:[{type:b,tag:R,props:{className:[S,"language-json"]},children:[{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:"\"scripts\""}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:"\"snapshot:ds\""}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"cross-env TZ=UTC jest --config=jest.snapshots.config.js --testPathPattern=\u002Fsnapshots\u002Findex.ts\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:"\"presnapshot:ds\""}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"npm run storybook:build-ds\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:"\"update-snapshot:ds\""}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"npm run snapshot:ds -u\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Here's what each script does:"}]},{type:a,value:g},{type:b,tag:aO,props:{},children:[{type:a,value:g},{type:b,tag:T,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:aP}]},{type:a,value:": Runs Jest with a specific configuration file ("},{type:b,tag:u,props:{},children:[{type:a,value:"jest.snapshots.config.js"}]},{type:a,value:") and runs tests that match the pattern "},{type:b,tag:u,props:{},children:[{type:a,value:"\u002Fsnapshots\u002Findex.ts"}]},{type:a,value:". This script is used to generate snapshots of the project's components and compare them to the previously generated snapshots to detect any visual changes."}]},{type:a,value:g},{type:b,tag:T,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"presnapshot:ds"}]},{type:a,value:": Builds the project's Storybook, which is a UI development environment that allows developers to view and interact with the project's components in isolation. This script is run before generating snapshots to ensure that the latest version of the components is used."}]},{type:a,value:g},{type:b,tag:T,props:{},children:[{type:b,tag:u,props:{},children:[{type:a,value:"update-snapshot:ds"}]},{type:a,value:": Runs Jest with the "},{type:b,tag:u,props:{},children:[{type:a,value:"-u"}]},{type:a,value:" flag to update the snapshots that were generated by the "},{type:b,tag:u,props:{},children:[{type:a,value:aP}]},{type:a,value:" script. This script is used when the developer has made changes to the components that affect their visual appearance and wants to update the snapshots accordingly."}]},{type:a,value:g}]},{type:a,value:g},{type:b,tag:W,props:{id:"types-of-tests"},children:[{type:b,tag:w,props:{href:"#types-of-tests",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Types of Tests"}]},{type:a,value:g},{type:b,tag:"h4",props:{id:"configuring-image-snapshots"},children:[{type:b,tag:w,props:{href:"#configuring-image-snapshots",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Configuring Image Snapshots"}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"To configure image snapshots, create a test file, such as "},{type:b,tag:u,props:{},children:[{type:a,value:"\u002Fsnapshots\u002Findex.js"}]},{type:a,value:". In this file, we can define our test cases using Jest's "},{type:b,tag:u,props:{},children:[{type:a,value:Y}]},{type:a,value:" matcher. Here is a basic example:"}]},{type:a,value:g},{type:b,tag:P,props:{className:[Q]},children:[{type:b,tag:R,props:{className:[S,"language-javascript"]},children:[{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:[d,l,aQ]},children:[{type:a,value:"import"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"imports"]},children:[{type:a,value:al}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l,aQ]},children:[{type:a,value:"from"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"'@storybook\u002Faddon-storyshots'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"\n  framework"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"'react'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,Z,i]},children:[{type:a,value:"test"}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aR]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:" story "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"arrow",h]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"story"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,aS,i,aT]},children:[{type:a,value:"render"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,aS,i,aT]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:b,tag:aU,props:{alt:aV,src:"\u002Fassets\u002Fblog\u002Fvisual-regression-testing\u002Fsnapshot-config.png"},children:[]}]},{type:a,value:g},{type:b,tag:ao,props:{},children:[{type:a,value:"The two `initStoryshots` methods represent two suites of tests"}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"By running the "},{type:b,tag:u,props:{},children:[{type:a,value:"npm run snapshot:ds"}]},{type:a,value:" command, Jest will capture screenshots of all our stories and compare them against the reference images stored in the "},{type:b,tag:u,props:{},children:[{type:a,value:"__image_snapshots__"}]},{type:a,value:" directory. Any visual differences will be highlighted as failing tests."}]},{type:a,value:g},{type:b,tag:I,props:{id:aB},children:[{type:b,tag:w,props:{href:"#challenges",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aC}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"During the visual regression testing process, we may encounter a few challenges that require additional attention and consideration."}]},{type:a,value:g},{type:b,tag:W,props:{id:"stories-requiring-interactions"},children:[{type:b,tag:w,props:{href:"#stories-requiring-interactions",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Stories Requiring Interactions"}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Some stories in our Storybook may have interactive elements or user interactions. Testing such scenarios can be challenging, as capturing a single screenshot may not be sufficient to cover all possible states. In these cases, we need to consider using techniques like Puppeteer to programmatically interact with the component and capture screenshots at different stages."}]},{type:a,value:g},{type:b,tag:"figure",props:{},children:[{type:a,value:r},{type:b,tag:"video",props:{autoPlay:V,loop:V,muted:V,playsInline:V,controls:V},children:[{type:a,value:F},{type:b,tag:"source",props:{src:"\u002Fassets\u002Fblog\u002Fvisual-regression-testing\u002Faction-container.mp4",type:"video\u002Fmp4"},children:[]},{type:a,value:"\n    Your browser does not support the video tag.\n  "}]},{type:a,value:r},{type:b,tag:ao,props:{},children:[{type:a,value:"Component requiring a hover prior to snapshot."}]},{type:a,value:g}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"To do so insert the appropriate code into the stories that need special steps before the snapshot is taken. For example, if a component requires a hover action, we can add the following code to the story:"}]},{type:a,value:g},{type:b,tag:P,props:{className:[Q]},children:[{type:b,tag:R,props:{className:[S,aW]},children:[{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F ActionContainer.stories.tsx"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Z,i]},children:[{type:a,value:aX}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" selector "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"Promise"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"all"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"waitForNavigation"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"waitForSelector"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"selector"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"hover"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"waitForTimeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:"1000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" element "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"$"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:" element"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n\nDefault"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,ar,G]},children:[{type:a,value:"\u002F**\n * Override the puppeteerTest() method in each story where present\n *\u002F"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F snapshot\u002Findex.ts"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:a_}]},{type:a,value:"storyshotsConfig"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n  suite"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"Design System - Combinations\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n  storyKindRegex"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"regex"]},children:[{type:b,tag:c,props:{className:[d,a$]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,"regex-source","language-regex"]},children:[{type:b,tag:c,props:{className:[d,"anchor",i]},children:[{type:a,value:"^"}]},{type:a,value:"Components"},{type:b,tag:c,props:{className:[d,"escape"]},children:[{type:a,value:"\\\u002F"}]},{type:b,tag:c,props:{className:[d,bb,e]},children:[{type:a,value:"(?!"}]},{type:a,value:"ActionContainer"},{type:b,tag:c,props:{className:[d,"alternation",l]},children:[{type:a,value:bc}]},{type:a,value:"Default Input Focussed"},{type:b,tag:c,props:{className:[d,bb,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,"charclass","class-name"]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,"quantifier",ab]},children:[{type:a,value:"*"}]}]},{type:b,tag:c,props:{className:[d,a$]},children:[{type:a,value:ba}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F exclude interactive stories"}]},{type:a,value:"\n  test"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"testConfig"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:W,props:{id:"dynamically-generating-snapshots-for-storybook-controls"},children:[{type:b,tag:w,props:{href:"#dynamically-generating-snapshots-for-storybook-controls",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Dynamically Generating Snapshots for Storybook Controls"}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Storybook provides various controls that allow us to change the props and state of our components dynamically. However, capturing screenshots for all possible combinations of these controls can be impractical. To overcome this challenge, we can write code to programmatically generate snapshots for a subset of important combinations or focus on testing the default state of the components."}]},{type:a,value:g},{type:b,tag:P,props:{className:[Q]},children:[{type:b,tag:R,props:{className:[S,aW]},children:[{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:[d,ar,G]},children:[{type:a,value:"\u002F**\n * "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"@param"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:ad}]},{type:a,value:" - The initial URL of the page.\n * "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"@returns"}]},{type:a,value:" A function that takes snapshots of a page with different control states.\n *\u002F"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F utils\u002Fsnapshot.ts"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"export"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Z,i]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"return"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:" Record"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u003C"}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\u003E"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" timeout"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"?"}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" controls "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bg}]},{type:a,value:" Object"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"keys"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"states"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" args "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" value "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bg}]},{type:a,value:" args"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"goto"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,bh]},children:[{type:b,tag:c,props:{className:[d,af,n]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"&args="}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,af,n]},children:[{type:a,value:ag}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"\n          waitUntil"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"networkidle2\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n          timeout"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:" timeout "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"||"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ab]},children:[{type:a,value:"30000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F use provided timeout or default to 30 seconds"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"\n          "},{type:b,tag:c,props:{className:[d,Z,i]},children:[{type:a,value:"customSnapshotIdentifier"}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:" defaultIdentifier "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bh]},children:[{type:b,tag:c,props:{className:[d,af,n]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:"defaultIdentifier"},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,N]},children:[{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:O}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,B,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,af,n]},children:[{type:a,value:ag}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,ar,G]},children:[{type:a,value:"\u002F**\n * configure snapshot images\n *\u002F"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F Accordion.stories.tsx"}]},{type:a,value:"\nDefault"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" initialUrl "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"url"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" states "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"\n      align"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"start\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n      isFlush"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,be]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n      size"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"sm\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"md\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"\"lg\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:C}]},{type:a,value:" takeSnapshots "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:bd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"takeSnapshots"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:b,tag:aU,props:{alt:aV,src:"\u002Fassets\u002Fblog\u002Fvisual-regression-testing\u002Faccordion-snapshots.png"},children:[]}]},{type:a,value:g},{type:b,tag:ao,props:{},children:[{type:a,value:"Three of the eight snapshots generated by the previous code snippet."}]},{type:a,value:g},{type:b,tag:I,props:{id:aD},children:[{type:b,tag:w,props:{href:"#outcome",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aE}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"After performing the upgrade on our internal design system and running the visual regression tests, we can examine the results. The tests will generate image diffs, highlighting any visual discrepancies between the upgraded and reference versions of our components. These diffs provide valuable insights into any unexpected changes and help us identify potential issues before they impact the components built with the design system as well as our users."}]},{type:a,value:g},{type:b,tag:I,props:{id:aF},children:[{type:b,tag:w,props:{href:"#next-steps",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aG}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"To ensure that visual regression testing becomes an integral part of our development process, we should consider running these tests from our continuous integration(CI) system. This ensures that any changes made to our codebase are automatically tested for visual regressions, providing an early indication of any issues that may arise."}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Additionally, it is important to regularly update our reference images to account for intentional design changes or improvements. This helps maintain the accuracy of our visual regression tests and avoids false positives."}]},{type:a,value:g},{type:b,tag:I,props:{id:aH},children:[{type:b,tag:w,props:{href:"#conclusion",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aI}]},{type:a,value:g},{type:b,tag:q,props:{},children:[{type:a,value:"Visual regression testing for Storybooks is a valuable practice that helps ensure the stability and consistency of our UI components. By comparing screenshots of our components before and after specific changes, we can identify any unintended visual discrepancies and address them promptly. With the help of tools like Puppeteer, Jest and the "},{type:b,tag:u,props:{},children:[{type:a,value:aL}]},{type:a,value:" addon, we can easily set up and configure visual regression tests for our Storybooks. By integrating these tests into our development process, we can build confidence in our code changes and deliver a visually consistent user experience to our users."}]},{type:a,value:g},{type:b,tag:I,props:{id:aJ},children:[{type:b,tag:w,props:{href:"#links-and-references",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:aK}]},{type:a,value:g},{type:b,tag:aO,props:{},children:[{type:a,value:g},{type:b,tag:T,props:{},children:[{type:b,tag:w,props:{href:bl,rel:[ah,ai,aj],target:ak},children:[{type:a,value:bl}]}]},{type:a,value:g},{type:b,tag:T,props:{},children:[{type:b,tag:w,props:{href:bm,rel:[ah,ai,aj],target:ak},children:[{type:a,value:bm}]}]},{type:a,value:g}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fvisual-regression-testing",extension:".md",updatedAt:"2023-09-25T21:59:11.304Z"},prev:{slug:"drag-drop-affordance",title:"Increasing Affordance for Drag & Drop Interactions when using React-DnD"},next:{slug:"react-query-transform",title:"React Query Data Transformations: Using the Select Option"}}],fetch:[],mutations:void 0}}("text","element","span","token","punctuation"," ","\n","operator","function",")","(","keyword",",","string","}",":","p","\n  ",";",".","code","{","a","true",-1,"icon","icon-link","interpolation-punctuation","const","=","builtin","\n    ","comment",2,"h2","await","[","]","page","interpolation","${","div","nuxt-content-highlight","pre","line-numbers","li","=\u003E",true,"h3","property","toMatchImageSnapshot","function-variable","async","any","\n    page","number"," page","initialUrl","\n        ","template-punctuation","`","nofollow","noopener","noreferrer","_blank","initStoryshots","\n\n","expect","figcaption","\".ds--action-container\"","puppeteerTest","doc-comment"," states","\n      ","controls","why-visual-regression-testing","Why Visual Regression Testing","common-tools","Common Tools","using-storyshots","Using Storyshots","challenges","Challenges","outcome","Outcome","next-steps","Next Steps","conclusion","Conclusion","links-and-references","Links and references","@storybook\u002Faddon-storyshots","npm","install","ul","snapshot:ds","module","parameter","method","property-access","img","Inside my test file","language-typescript","activateActionContainer","screenshot","parameters ","...","regex-delimiter","\u002F","group","|","takeSnapshotsFactory","boolean","for","of","template-string","value","-","\n\n    ","https:\u002F\u002Fstorybook.js.org\u002Fdocs\u002Freact\u002Fwriting-tests\u002Fvisual-testing","https:\u002F\u002Fgithub.com\u002Fstorybookjs\u002Fstorybook\u002Ftree\u002Fnext\u002Fcode\u002Faddons\u002Fstoryshots-core")));